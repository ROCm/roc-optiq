cmake_minimum_required(VERSION 3.15)
project(rocprof-visualizer)

set(CMAKE_CXX_STANDARD 11)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -DVK_PROTOTYPES")
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -DVK_PROTOTYPES")

add_subdirectory(thirdparty/)

add_executable(rocprof-visualizer src/app/src/rocprofvis_trace.cpp src/app/src/rocprofvis_trace_ui.cpp src/app/src/rocprofvis_imgui_vulkan.cpp src/app/src/main.cpp src/view/src/rocprofvis_line_chart.cpp src/view/src/rocprofvis_line_chart.h src/view/src/rocprofvis_main_view.cpp src/view/src/rocprofvis_grid.cpp src/view/src/rocprofvis_grid.h src/view/src/rocprofvis_flame_chart.cpp src/view/src/rocprofvis_flame_chart.h  src/view/src/rocprofvis_charts.cpp src/view/src/rocprofvis_charts.h src/view/src/rocprofvis_home_screen.cpp src/view/src/rocprofvis_home_screen.h)
target_include_directories(rocprof-visualizer PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/src/app/inc)
target_include_directories(rocprof-visualizer PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/src/view/inc)
target_include_directories(rocprof-visualizer PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/thirdparty/jsoncpp)
target_include_directories(rocprof-visualizer PRIVATE ${Vulkan_INCLUDE_DIRS})
target_include_directories(rocprof-visualizer PRIVATE ${Vulkan_INCLUDE_DIR})
target_link_libraries(rocprof-visualizer PRIVATE imgui)
target_link_libraries(rocprof-visualizer PRIVATE imgui-flame-graph)
target_link_libraries(rocprof-visualizer PRIVATE implot)
target_link_libraries(rocprof-visualizer PRIVATE ImGuiFileDialog)
target_link_libraries(rocprof-visualizer PRIVATE json)
target_link_libraries(rocprof-visualizer PRIVATE glfw)
find_package(Vulkan REQUIRED)
target_link_libraries(rocprof-visualizer PRIVATE "${Vulkan_LIBRARIES}")
